<!DOCTYPE html>
<html lang="en">
  <!-- <script type="module" src="js/main.js"></script> -->

  <script src="js/drawing.js"></script>

  <script  type="module" language="javascript">
    import { basic, vip } from './js/main.js';
    console.log("it's ",basic)
    window.basicLocal = basic
    window.vip = vip
  </script>
  <!-- Pico.css -->
  <link
    rel="stylesheet"
    href="css/pico.min.css"
  />
  <style>
   :root { 
      /*--pico-line-height: 0.5rem;*/
      --pico-form-element-spacing-vertical: 0rem;
    }
    details summary::after {
      float: left;
    }
    details p {
      margin-left: 40px;
    }
    .upload_block {
      --pico-spacing: 4px;
      margin-left: 40px;
      border-left: 4mm solid rgba(211, 220, 50, .6);
      padding-left: 10px;
      small {
        display: inline;
      }
      .page_count {
        width: 100px;
      }
    }
    .upload_block_add {
      margin-left: 50px;
    }
    #page_orientation {
      div {
        display: inline;
      }
      svg {
        margin-right: -55px;
        margin-left: 20px;
      }
      .page_orientation_radio {
        margin-top: -35px;
      }
    }
    #imposition_layout {
      table {
        width: 80%;
        margin-left: 40px;
      }
      td:nth-child(even) {
        text-align: right;
      }
    }
    tr:nth-child(even) td:nth-child(even) {
      background-color: var(--pico-table-row-stripped-background-color);
    }
    #imposition_layout tr:nth-child(odd) td:nth-child(even) {
      background-color: transparent;
    }
  </style>
  </head>

  <body>
    <main class="container">
      <section id="source_pdfs">
        <h2>1. Source PDF(s)</h2>
        <details>
          <summary>Instructions/Details</summary>
          <p>
            Multiple PDFs can be used, but at least one is needed. Each PDF can be preceeded by N blank pages (default is 0)
          </p>
        </details>
        <section id="upload_blocks">
            <section class="upload_block">
              <input class="page_count" type="number" name="text" placeholder="0" />
              <small>preceeding blank page count</small>
              <input type="file" id="file" name="file" accept=".pdf"/>
            </section>
            <section class="upload_block_add">
              <button onclick="vip.addUploadBlock(this)">+</button>
            </section>
        </section>
        <button onclick="vip.processUploads(document.getElementById('upload_blocks'))">Process Uploads</button>
      </section>

      <section id="page_orientation">
        <h2>2. Page Orientation</h2>
        <details>
          <summary>Instructions/Details</summary>
          <p>
            This is about how the PDF is placed relative to the spine.
          </p>
        </details>
        <fieldset>
          <div id="page_orientation_1"></div>
          <div id="page_orientation_2"></div>
          <div id="page_orientation_3"></div>
          <div id="page_orientation_4"></div>
          <div id="page_orientation_5"></div>
          <div id="page_orientation_6"></div>
          <script language="javascript">
            page_orientation_options = [['page_orientation_1', 0,0,0],
             ['page_orientation_2', -90,-90,-90],
             ['page_orientation_3', -90,90,-90],
             ['page_orientation_4', 90,90,90],
             ['page_orientation_5', 90,-90,90],
             ['page_orientation_6', 180,180,180]]
            page_orientation_options.forEach((o, i) => {
              drawing.renderPageRotationDemo(document.getElementById(o[0]), o[1], o[2], o[3], 50, i == 0)
             })
          </script>
        </fieldset>
      </section>

      <section id="imposition_layout"><h2>3. Imposition Layout</h2>
        <details>
          <summary>Instructions/Details</summary>
          <p>
            This is how the PDF pages will be tiled on the printed page
          </p>
        </details>

        <fieldset>
          <table class="striped">
            <tbody>
              <tr>
                <td>
                  <input type="radio" id="imposition_1" name="page_imposition" value="page_imposition_1"/>
                  <img src="img/folio.svg" width="150px"><br>
                  <small>Folio - 2 PDF pages per printed side  </small>
                </td>
                <td>
                  <input type="radio" id="imposition_2" name="page_imposition" value="page_imposition_2"/>
                  <img src="img/quarto.svg" width="150px">
                  <small>Quarto - 4 PDF pages per printed side  </small>
                </td>
              </tr>
              <tr>
                <td>
                  <input type="radio" id="imposition_1" name="page_imposition" value="page_imposition_1"/>
                  <img src="img/folio.svg" width="150px"><br>
                  <small>Folio - 2 PDF pages per printed side  </small>
                </td>
                <td>
                  <input type="radio" id="imposition_2" name="page_imposition" value="page_imposition_2"/>
                  <img src="img/quarto.svg" width="150px">
                  <small>Quarto - 4 PDF pages per printed side  </small>
                </td>
              </tr>
            </tbody>
          </table>
        </fieldset>
      </section>


      <section id="signatures">
        <h2>4. Signatures</h2>
        <details>
          <summary>Instructions/Details</summary>
          <p>
            This is about how the PDF is placed relative to the spine.
          </p>
        </details>
    </main>


    <!-- Main -->
    <main class="container">
      <!-- Preview -->
      <section id="preview">
        <h2>Preview</h2>
        <p>
          Sed ultricies dolor non ante vulputate hendrerit. Vivamus sit amet suscipit sapien. Nulla
          iaculis eros a elit pharetra egestas.
        </p>
        <form>
          <div class="grid">
            <input
              type="text"
              name="firstname"
              placeholder="First name"
              aria-label="First name"
              required
            />
            <input
              type="email"
              name="email"
              placeholder="Email address"
              aria-label="Email address"
              autocomplete="email"
              required
            />
            <button type="submit">Subscribe</button>
          </div>
          <fieldset>
            <label for="terms">
              <input type="checkbox" role="switch" id="terms" name="terms" />
              I agree to the
              <a href="#" onclick="event.preventDefault()">Privacy Policy</a>
            </label>
          </fieldset>
        </form>
              <p>
        blah blha balh
            <button onclick="basicLocal.fun(this)">Primary</button>
            <button class="secondary">Secondary</button>
            <button class="contrast">Contrast</button>
      </p>
      </section>
    </main>
<script  type="module" language="javascript">
  document.body.append(window.basicLocal.txt)
</script>

    PDF library by <a href="https://pdf-lib.js.org/" target="_blank">PDF-LIB</a><br>
    CSS library by <a href="https://picocss.com/" target="_blank">pico</a>


    <!-- Minimal theme switcher -->
    <script src="js/minimal-theme-switcher.js"></script>

    <!-- Modal -->
    <script src="js/modal.js"></script>
  </body>
</html>